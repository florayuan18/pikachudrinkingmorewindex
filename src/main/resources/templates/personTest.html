<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <title>Game Ratings</title>-->
<!--    <style>-->
<!--        th, td {-->
<!--            font:15px 'Segoe UI';-->
<!--        }-->
<!--        table, th, td {-->
<!--            border: solid 2px #ddd;-->
<!--            border-collapse: collapse;-->
<!--            padding: 20px 30px;-->
<!--            text-align: center;-->
<!--        }-->
<!--        th {-->
<!--            font-weight:bold;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->

<!--<body>-->

<!--<h2>Games</h2>-->

<!--<p id="showData"></p>-->

<!--<script type="module">-->

<!--    // Get JSON data 'allUsers'-->
<!--    // Import allUsers from "./Users.json" assert { type: "json" };-->
<!--    // var myGames = allUsers[0].games;-->

<!--    // Getting JSON from the parent html-->
<!--    var userStr = sessionStorage.getItem('options');-->
<!--    // console.log("userStr="+userStr);-->
<!--    var userJson = JSON.parse(userStr);-->
<!--    // console.log("userJson="+userJson);-->
<!--    var myGames = userJson.games;-->
<!--    console.log(myGames);-->

<!--    // Extract value for the HTML header-->
<!--    var col = [];-->
<!--    for (var i = 0; i < myGames.length; i++) {-->
<!--        for (var key in myGames[i]) {-->
<!--            if (col.indexOf(key) === -1) {-->
<!--                col.push(key);-->
<!--            }-->
<!--        }-->
<!--    }-->

<!--    // Create dynamic table-->
<!--    var table = document.createElement("table");-->

<!--    // Create HTML table header row using the extracted headers above-->
<!--    var tr = table.insertRow(-1);                   // table row-->
<!--    //debugger;-->
<!--    for (var i = 0; i < col.length; i++) {-->
<!--        var th = document.createElement("th");      // table header-->
<!--        th.innerHTML = col[i];-->
<!--        tr.appendChild(th);-->
<!--    }-->

<!--    // Add JSON data to table as rows-->
<!--    for (var i = 0; i < myGames.length; i++) {-->

<!--        tr = table.insertRow(-1);-->

<!--        for (var j = 0; j < col.length; j++) {-->
<!--            var tabCell = tr.insertCell(-1);-->
<!--            tabCell.innerHTML = myGames[i][col[j]];-->
<!--        }-->
<!--    }-->

<!--    // Add newly created table with JSON data to a container-->
<!--    var divContainer = document.getElementById("showData");-->
<!--    divContainer.innerHTML = "";-->
<!--    divContainer.appendChild(table);-->

<!--</script>-->

<!--</body>-->
<!--</html>-->

<!-- This page is illustrative and contains ideas about HTML formatting -->
<!DOCTYPE HTML>
<!-- Signals to the Layout Dialect which layout should be used to decorate this View -->
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}" lang="en">

<head><div layout:fragment="metadata" th:remove="tag">
    <title>Game Ratings</title>
    <style>
        th, td {
            font:15px 'Segoe UI';
        }
        table, th, td {
            border: solid 2px #ddd;
            border-collapse: collapse;
            padding: 20px 30px;
            text-align: center;
        }
        th {
            font-weight:bold;
        }
    </style>
</div>
</head>

<body style = "background-color:#2b425b; margin:auto;">
<div layout:fragment="content" th:remove="tag">


    <h2>Games</h2>

    <p id="showData"></p>

    <script type="module">

        // Get JSON data 'allUsers'
        // Import allUsers from "./Users.json" assert { type: "json" };
        // var myGames = allUsers[0].games;

        // Getting JSON from the parent html
        var userStr = sessionStorage.getItem('options');
        // console.log("userStr="+userStr);
        var userJson = JSON.parse(userStr);
        // console.log("userJson="+userJson);
        var myGames = userJson.games;
        console.log(myGames);

        // Extract value for the HTML header
        var col = [];
        for (var i = 0; i < myGames.length; i++) {
            for (var key in myGames[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        // Create dynamic table
        var table = document.createElement("table");

        // Create HTML table header row using the extracted headers above
        var tr = table.insertRow(-1);                   // table row
        //debugger;
        for (var i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // table header
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        // Add JSON data to table as rows
        for (var i = 0; i < myGames.length; i++) {

            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myGames[i][col[j]];
            }
        }

        // Add newly created table with JSON data to a container
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);

    </script>


</div>
</body>

</html>
